# 计算机网络概论

## 计算机系统基础知识

### 计算机系统硬件基础组成

* 硬件：运算器，控制器，存储器，输入设备，输出设备
* 软件

### CPU（中央处理单元）

1. 功能
   * 程序控制：
   * 操作控制
   * 时间控制
   * 数据控制
2. 组成
   1. 运算器：数据加工处理的**执行部件**
      * 由控制器的控制信号指挥
      * 执行**算术运算**（如：加減乘除）和**逻辑运算**（如：与或非）
      * 部件
         1. 算术逻辑单元(ALU)：处理数据，实现算数运算、逻辑运算
         2. 累加寄存器(AC)：
            * **通用寄存器**
            * 为ALU提供工作区，存放操作数，或运算结果
         3. 数据缓存寄存器(DR)：CPU与内存或外存之间的数据中转（缓冲操作速度）
         4. 状态条件寄存器(PSW)：
            * 保存指令运行标志（条件码内容）
            * **状态标志**和**控制标志**
   2. 控制器：
      * 保证程序执行，处理异常事件
      1. 指令控制逻辑：取指令，分析指令，执行指令
         * 部件：
            1. 指令寄存器(IR)：存放**当前/即将**执行的指令（内存储器 -> 缓冲寄存器 -> IR）
            2. 程序计数器(PC/指令计数器)：
               * 寄存信息：存放**下一条**指令地址
               * 计数：**自动加1**
            3. 地址寄存器(AR)：保存当前CPU所访问的内存单元地址。
            4. 指令译码器(ID)：对操作码进行分析。
      2. 时序控制逻辑：按时间顺序为每条指令提供应有的控制信号
      3. 总线控制逻辑
      4. 中断控制逻辑：控制中断请求
   3. 寄存器组
      * 专用寄存器
      * 通用寄存器
3. 多核CPU：可进行多任务处理

### 数据的表示

1. 进制转换
   * n进制转十进制：每一位乘以进制数的第几位减一次方并求和（小数点前一位是0次方）
   * 二进制 -> 八进制：从小数点开始向前/向后三位一组，每组转化为对于的八进制符号
      * 8 = 2^3（二进制 -> 其他进制同理）
      * 不足三位，向前前补0，向后后补0
   * 十进制 -> 二进制：短除法
      * 除以二并记录余数，直到除尽，然后从低位写到高位（十进制 -> 其他进制同理）
2. 真值与机器数
   1. 真值：符合人类相关的数字
   2. 机器数：存储在机器中的数字，即0和1，正为0，负为1
   3. 定点数：常规计数
      * 无符号数：没有符号位，只有整数没有小数
      * 有符号数：
         1. 原码：数值部分表示真值的绝对值，最高位为符号位 "0/1" 对应 "正/负"
            * -(2^(n-1) - 1) ~ 2^(n-1) - 1
            * +0/-0
         2. 反码：正数的反码等于原码，负数**除符号位**全部取反
            * -(2^(n-1) - 1) ~ 2^(n-1) - 1
         3. 补码：正数的补码等于原码，负数则在反码的基础上**除符号位**，末位+1
            * -2^(n-1) ~ 2^(n-1) - 1
            * 0是唯一的
         4. 移码：将补码的符号位取反（移码只能用于整数）
   4. 浮点数：科学计数法
      * N = F * R^E
      * 阶符 | 阶码 | 数符 | 尾数
         * 阶符
         * 阶码：E，数值范围
         * 数符
         * 尾数：F，数值精度
         * R：基数
      * 浮点数运算
         * **对阶：小数向大数看齐，小数尾数向右移**
         * 求尾数和（差）
         * 结果格式化并判溢出
         * 舍入处理
         * 溢出判别：以阶码为准，阶码溢出，结果溢出

### 校验码

   码距：⼀个编码系统中任意两个合法编码之间至少有多少个二进制位不同

   1. 奇偶校验码
      * **能检错，不能纠错**
      * 奇数个数据位发生错误，才能发现错误
   2. 海明码
      * **能检错，能纠错**
      * 码距最小为 2n + 1
      * 设数据位是 n 位，校验位是 k 位， 则 n 和 k 必须满足以下关系:  
      ```2^k - 1 >= n + k```
   3. 循环冗余校验码 (CRC)
      * **能检错，不能纠错**
      * 广泛应用于数据通信领域和磁介质存储系统中
      * 求CRC编码时，采用**模2除法运算**
      * 余数为0则没错，余数不为0则有错

## 计算机体系结构

### 计算机体系结构基础

1. 计算机体系结构分类
   * 宏观（处理机数量）
      1. 单处理系统
      2. 并行处理与到处理系统
      3. 分布式处理系统
   * 微观（并行程度）
      1. Flynn分类法
         * 单指令单数据流（SISD）
         * 单指令多数据流（SIMD）
         * 多指令单数据流（MISD）
         * 多指令多数据流（MIMD）
      2. 冯泽云分类法
      3. Handler分类法
      4. Kuck分类法
         * 单指令单执行流（SISE）
         * 单指令多执行流（SIME）
         * 多指令单执行流（MISE）
         * 多指令多执行流（MIME）
2. 指令系统
   * 指令：计算机执行某种操作的命令，计算机运行的最小功能单位
   * 指令结构：| 操作码 (OP) | 地址码 (A) |
   * 指令集体系结构(ISA)：处理器支持的指令和指令的字节级编码
   * 指令集体系分类（CPU内部存储操作数区别）
      1. 堆栈（stack）
      2. 累加器（ACC/Accumulator）
      3. 寄存器组
   * 完成一条指令：取指令 -> 分析指令 -> 执行指令
   * 周期
      1. 时钟周期：计算机中**最小**的时间单位，等于cpu主频的倒数。一个时钟周期内，cpu仅完成一个最基本的动作。
      2. 机器周期（cpu周期）：
         * 计算机中为了方便管理，常把一条指令 的执行过程划分为若干个阶段（如取指、间址、执行、中断等）每一阶段完成一个基本操作
         * 每一个基本操作都是由若干CPU最基本的动作组成。这个基本操作所需要的时间称为机器周期，则机器周期由若干个时钟周期组成。
      3. 指令周期：
         * 从取指开始到执行完成该指令所需要的全部时间
         * 指令周期包含若干机器周期。
      4. 中断周期：从CPU收到中断源的中断请求到转去执行中断程序的时间
   * 指令周期 > 机器周期 > 时钟周期
3. CISC (Complex) 和 RISC (Reduced)
   |  | CISC | RISC |
   | - | - | - |
   | 指令系统 | 复杂，庞大 | 简单，精简 |
   | 指令数目 | 一般大于200条 | 一般小于100条 |
   | 指令字长 | 不固定 | 定长 |
   | 可访存指令 | 不加限制 | 只有 load/store 指令 |
   | 各种指令执行时间 | 相差较大 | 绝大多数一个周期内完成 |
   | 各种指令使用频率 | 相差较大 | 都比较常用 |
   | 通用寄存器数量 | 较少 | 多 |
   | 控制方式 | 绝大多数为微程序控制 | 绝大多数为组合逻辑控制 |
   | 指令流水线 | 可以通过一定方式实现 | 必须实现 |
   * CISC（复杂指令集计算机）
      1. 绝大多数计算机都属于CISC
      2. 弊端
         * 指令集过于庞杂
         * 因为需要多个CPU周期，从而降低了机器的处理速度
         * 设计复杂，研制周期长，芯片设计出错几率大，成品率低
   * RISC（精简指令集计算机）
4. 指令控制方式
   1. 顺序方式
      * 顺序串行执行，执行完一条指令后才取下一条指令
      * 优点：控制简单
      * 缺点：速度慢，机器各部件的利用率低
   2. 重叠方式
   3. 流水方式（重叠的延伸）
      * 并行性或并发性
      * **流水线周期**
         * 执行时间最长的一段
      * **流水线时间计算公式**
         * 一条指令执行时间 + (指令条数 - 1) * 流水线周期
      * **流水线吞吐率（Though Put rate，TP）**
         * 单位时间内流水线所完成的任务数量或输出的结果数量  
         ``` TP = 指令条数 / 流水线执行时间 ```
         * 流水线开始工作后，需要经过**一定时间**才能达到最大吞吐量，即**建立时间**
      * **流水线加速比**
         * 完成同一批任务，不使用流水线所用的时间与使用流水线所用的时间之比  
         ``` S = 不使用流水线执行时间 / 使用流水线执行时间 ```
5. 阵列处理机，并行处理机和多处理机

### 寻址方式

1. 指令寻址
2. 数据寻址
   1. 立即寻址：操作数作为指令的一部分直接写在指令中，这种操作数称为立即数
   2. 寄存器寻址：指令所要的操作数已存储在某寄存器中，或把目标操作数存入寄存器
   3. 直接寻址：指令所要的操作数存放在**内存**中，在指令中直接给出该操作数的有效地址
   4. 寄存器间接寻址：操作数在存储器中，操作数的有效地址用SI、DI、BX和BP四个寄存器之一来指定
   5. 寄存器相对寻址：操作数在存储器中，其有效地址是一个基址寄存器（BX、BP）或变址寄存器（SI、DI）的内容和指令中的8位/16位偏移量之和
   6. 基址加变址寻址方式：操作数在存储器中，其有效地址是-一个基址寄存器（BX.BP）和一个变址寄存器（SI、DI）的 内容之和
   7. 相对基址加变址寻址：操作数在存储器中，其有效地址是一个基址寄存器（BX.BP）的值、一个变址寄存器（SI、DI）的值和指令中的8位/16位偏移量之和

### 存储系统

* 存储单元：每个存储单元存放一串二进制代码
* 存储字 (word)：存储单元中二进制代码的组合
* 存储字长：存储单元中二进制代码的位数。
* 存储元：即存储二进制的电子元件，每个存储元可存 1 bit。
* MAR：地址寄存器
* MDR：数据寄存器

1. 层次结构
   * CPU内部通用寄存器
   * Cache
   * 主存储器
   * 联机磁盘存储器
   * 脱机光盘，磁盘存储器
2. 分类
   * 位置：
      1. 内存(主存)：容量小，速度快
      2. 外存(辅存)
   * 材料：
      1. 磁存储器
      2. 半导体存储器
      3. 光存储器
   * 工作方式：
      1. 读/写存储器(RAM)
      2. 只读存储器
         * 固定只读存储器(ROM)
         * 可编程的只读存储器(PROM)
         * 可擦除可编程的只读存储器(EPROM)
         * 电擦除可编程的只读存储器(EEPROM)
         * 闪速存储器
   * 访问方式：
      1. 地址访问
      2. 内容访问
         * 相联存储器：适用于信息的检索和更新
   * 寻址方式：
      1. 随机存储器(RAM)：可以按地址访问存储器的任一单元，访问时间相同
         * DRAM(Dynamic)：存储密度高，需定期刷新以保持其正确性，高访问延迟，低读写性能
         * SRAM(Static)：存储密度(集成率)低，无需周期性刷新，低访问延迟，高读写性能
      2. 顺序存储器(SAM)：访问时按顺序查找目标地址，访问数据所需时间与数据存储位置相关（磁带）
      3. 直接存储器(DAM)：按照数据块所在位置访问，介于上述两者之间，磁道寻址随机，磁道内寻址顺序（**磁盘**）
3. 高速缓存(Cache)
   * 存放当前最活跃的程序与数据
   * 位于CPU与主存之间
   * 由快速半导体存储器构成
   * 存放主存局部域的副本，存在（命中）则寻址，不存在（未命中）则去主存中查
   * **对程序员透明**
   * Cache与主存间的地址映射**由硬件自动完成**
   * 地址映像方法
      1. 直接映像
         * 主存与Cache关系固定，两者同一数据存放在相同块号的块中
         * 简单但不灵活
      2. 全相联映像
         * 主存任一数据可存在Cache任意块中
         * 灵活但变换复杂，速度慢
      3. 组相联映像
   * 替换算法：提高Cache命中率
      1. 随机替换算法
      2. FIFO
      3. 最近最少使用算法
      4. 优化替换算法
   * Cache容量越大，命中率越高
4. 虚拟存储器

### 输入/输出

1. 内存与接口的编址方法
   * 独立编址
      * 内存地址与接口地址是完全独立的两个地址空间，完全独立且相互隔离
      * 缺点：接口指令少，功能弱
   * 统一编址
      * 在一个公共地址空间中
2. 直接程序控制
   * 外设数据的输入输出过程是在CPU执行程序的控制下完成
   * 方式：
      1. 无条件传送：无条件且随时输入输出数据
      2. 程序查询方式：
         * 需要CPU判断外设是否准备好输入输出数据
         * 缺点：降低CPU效率，对外都突发时间无法实时相应
3. 中断方式
   * 收到中断信号后CPU保存正在执行程序的现场
   * 中断向量表法：保存各个中断源的中断法务程序的入口地址
   * 中断优先级控制：
      1. 不同优先级，优先响应优先级最高的中断源
      2. 中断服务过程中，优先处理更高优先级的中断请求，即中断嵌套
   * 为实现多级中断，保护现场信息最有效的方法是使用**堆栈**
4. 直接存储器存取方式（DMA）
   * 数据在**内存(主存)与I/O设备间**直接成块传送
   * **不需要CPU干涉（只在开始结束时处理）**，由DMA硬件直接执行
5. 输入/输出处理机（IOP/通道）
   * 分担CPU部分功能，实现对外围设备的统一管理，完成外围设备与主存之间的数据传递
   * 提高CPU工作效率

### 总线结构

总线(Bus)：设备之间传输信息的公共数据通道，即传输介质，其性能影响整机系统性能

1. 总线分类
   * 系统总线：连接主存及外设部件
      1. 数据总线(Data Bus)：
         * 传递数据信息
         * 双向
         * DB的宽度决定了CPU和其他设备之间每次交换数据的位数
      2. 地址总线(Address Bus)：
         * 传递CPU发出的地址信息，从而指明与CPU交换信息的内存单元或I/O设备
         * 单向
         * AB的宽度决定了CPU的最大寻址能力
      3. 控制总线(Control Bus)
         * 传送控制信号，时序信号和状态信息
         * 单条线的信息传送方向为单方向且确定，但整体为双向
         * 传输数据方式分类
            1. 串行总线
            2. 并行总线：PCI总线，SCSI总线
   * 内部总线
   * 外部总线
2. 性能指标
   * 总线宽度：数据线的根数，**影响计算机系统I/O数据传输速度的主要因素**
   * 标准传输率：每秒传输的最大字节数
   * 时钟同步/异步：同步、不同步
   * 总线复用：地址线与数据线复用
   * 信号线数：地址线、数据线和控制线的总和
   * 总线控制方式：突发、自动、仲裁、逻辑、计数
   * 其他指标：负载能力
3. 计算公式  
   * 总线带宽：一定时间内总线上可以传输的数据量
   * 单位：1 Byte/s (B/s) = 8 bit/s
   * **```总线带宽 = 每个总线周期传送的数据 / 总线传输周期```**
      * 1个时钟周期 = 1 / 总线时钟频率
      * 总线传输周期 = 1个时钟周期 * 总线周期包含时钟周期个数
   * ```总线带宽 = (总线位宽 / 8) * 总线频率```
      * 总线位宽：总线能同时传送的数位数，使用bit表示（常见的如32位，64位）
      * 总线频率：频率用MHz（Mega Hertz）表示，频率越高，工作效率越高
   * ```总线带宽= 总线宽度 * 单个时钟频率```
  
## 安全性，可靠性及系统性能评测

### 加密技术

1. 对称加密技术：加密和解密使用相同的密钥
   * 数据加密标准算法（DES）
   * 三重DES（3DES/TDES）
   * RC-5
   * 国际数据加密算法（IDEA）
   * 高级加密标准算法（AES）
2. 非对称加密算法：使用两个密钥，即公开密钥和私有密钥。
   * 甲使用乙的公钥加密，则乙使用乙的密钥解密
   * RSA

### 认证技术

1. 数字签名：确保消息不可否认，即确保发送者身份不可抵赖
   * 先生成信息摘要：防止篡改
   * 后对摘要进行加密：防止抵赖
2. 没有证书，则不受信任
3. PKI体系：管理密钥与证书
4. CA中心：管理并运营CA系统，**CA系统负责颁发数字证书**

### 可靠性（操作系统）

1. 概述
   * 浴盆曲线：初始(不稳定期，失效率较高) -> 随机(正常工作期，失效率较低) -> 损耗(开始老化，失效率提高)
   * 可靠性：从开始运行（t = 0）到某时刻 t 这段时间内能正常运行的概率，即R(t)
   * 可靠性**不取决**于软件产品的**开发方式**，与使用方式有关
   * 失效率：单位时间内失效的元件数与元件总数的比例，即 λ
   * 可靠性与失效率的关系 ```R(t) = e^(-λt)```
   * 平均无故障时间(MTBF/平均故障间隔时间)
      1. ```MTBF = 1/λ```
      2. 数值越大，可靠性越高
   * 平均修复时间(MTTR/**系统可维护性**)
      1. ```1 / (1+MTTR)```
      2. 发生故障到修复完成所需时间的平均值
      3. 数值越小，可恢复性越好
   * 平均失效前时间(MTTF/**系统可靠性**)
      1. ```MTTF / (1 + MTTF)```
2. 可靠性模型
   * 串联系统：当且仅当所有子系统都能正常工作时，系统才能正常工作
      1. 系统可靠性：```R = R1 * R2 * ... * Rn```
      2. 系统失效率：```λ =  λ1 + λ2 + ... + λn```
   * 并联系统：只要有一个子系统正常工作，系统就能正常工作
      1. 系统可靠性：```R = 1-(1-R1)(1-R2)...(1-Rn)```

### 系统性能评测

1. 测评方法
   * 时钟频率：一般，主频越高，速度越快
   * 指令执行速度：加法指令的运行速度，KIPS -> MIPS -> MFLOPS
   * 等效指令速度法
   * 数据处理速率(PDR)：PDR值越大，机器性能越好（主要针对CPU和主存储器）
   * 核心程序法
2. 基准测试程序：用于测试性能
   * 整数测试程序
   * 浮点测试程序
   * SPEC基准程序
   * TPC基准程序

# 程序设计语言基础知识

## 程序设计语言概述


















## 文法分析
沟通渠道公式：M = n * (n-1) / 2




# 标准化和知识产权

## 著作权

1. 有书面合同，按合同约定；没有书面合同，谁开发属于谁
2. 原件所有权的转移，不代表著作权的转移。
3. 著作权法不作用于
   * 依法禁止出版传播的作品
   * 法律法规
   * 国家机关决定，决议，命令，及相关文件，译文
   * 时事新闻
   * 历法，公式，表格
4. 作品完成，自动产生，不用发表，登记或注册
5. 翻译权：把原软件从一种自然语言文字转换成为另一种自然语言文字
6. 提供复制品，侵犯著作权

## 商标权

1. 谁先申请，属于谁。
2. 同时申请，谁先使用，属于谁。
3. 同时申请，同时使用或未使用，先协商后抽签。
4. 读音或文字相似，不能同时获准注册。

## 所有权

1. 作品买卖，所有权转移

## 专利权

1. 不能获得专利权的有
   * 智力活动的规则与方法（包括计算机程序）
   * 算法
2. 只看最终目的。
3. 谁先申请，属于谁。
4. 同时申请，先协商，协商无果，都不驳回。

## 独占许可

只有我自己可以用

## 独家许可

只有我和权力人可以用

# 多媒体

## 媒体

1. 感觉媒体：直接作用于人的感觉器官，使人产生直接感觉
2. 表现媒体：进行信息输入与输出的媒体
3. 表示媒体：传输感觉媒体的中介媒体，即用于数据交换的编码
4. 传输媒体：传输表示媒体的物理介质
5. 存储媒体：存储表示媒体的物理介质
6. 图像数据量 = 图像的总像素 * 图像深度
7. 位图：占用空间大，处理侧重于获取和复制，显示速度快
8.

# 网络

1. TCP和UDP协议均提供了端口寻址能力
2. TCP：HTTP, SMTP, FTP, Telnet
3. UDP：DNS, SNMP, TFTP, DHCP
4. TCP/IP 和 OSI/RM 都在传输层中进行可靠的通信
5. DHCP协议：自动分配IP地址
6. FTP协议：用TCP协议
7. 域名查询：本地DNS缓存 -> HOSTS表 -> 本地DNS服务器 -> 根域名服务器 -> 顶级域名服务器 -> 权限域名服务器

## 控制台命令

1. ipconfig：显示信息
2. ipconfig/all：显示详细信息，可查看DHCP服务是否已启用
3. ipconfig/renew：更新所有适配器
4. ipconfig/release：释放所有匹配的连接
5. ping：测试连通性
6. nslookup：监测网络中DNS服务器是否能正确实现域名解析
7. netstat：检验各端口的网络连接情况

## 端口

1. 25：SMTP
2. 80：以HTTP协议为基础的Web服务
3. 20/21：FTP（20为数据口，21为控制口）
4. 23：Telnet
5. 110：POP（邮件协议3）

## IP相关计算

1. 已知IP地址和子网掩码，求主机地址
   * 分别转换为二进制，然后进行AND计算
2. 已知IP地址和子网掩码，求网络内可用IP地址个数
   * 子网掩码转换为二进制，从后往前数0的个数，然后求2的次方